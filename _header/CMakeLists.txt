#include all source files into main list
file(GLOB_RECURSE LOCAL_PROJECT_SOURCES CONFIGURE_DEPENDS *.h *.cpp)
set(PROJECT_SOURCES ${PROJECT_SOURCES}${LOCAL_PROJECT_SOURCES}\; PARENT_SCOPE)

#include all subdirectories
file(GLOB_RECURSE FILE_LIST LIST_DIRECTORIES true CONFIGURE_DEPENDS *)
foreach(DIR ${FILE_LIST})
    if(IS_DIRECTORY ${DIR})
        set(LOCAL_DIRECTORIES ${LOCAL_DIRECTORIES}${DIR}\;)
    endif()
endforeach()

#include this directory
set(LOCAL_DIRECTORIES ${LOCAL_DIRECTORIES}${CMAKE_CURRENT_LIST_DIR}\;)
message(WARNING "${LOCAL_DIRECTORIES}")

set(PROJECT_DIRECTORIES ${PROJECT_DIRECTORIES}\;${LOCAL_DIRECTORIES} PARENT_SCOPE)